{"ast":null,"code":"import _classCallCheck from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/src/components/content/menu/DeleteMenu.js\";\nimport React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button } from 'reactstrap';\nimport axios from 'axios';\nimport apiconfig from '../../../configs/api.config.json';\n\nvar DeleteAgama =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DeleteAgama, _React$Component);\n\n  function DeleteAgama(props) {\n    var _this;\n\n    _classCallCheck(this, DeleteAgama);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DeleteAgama).call(this, props));\n\n    _this.deleteHandler = function () {\n      _this.setState({\n        disableStatus: true\n      });\n\n      var token = localStorage.getItem(apiconfig.LS.TOKEN);\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.M_MENU,\n        method: \"delete\",\n        headers: {\n          \"authorization\": token\n        },\n        data: {\n          code: _this.props.menu.code\n        }\n      };\n\n      for (var i = 0; i < 100; i++) {\n        axios(option).then(function (response) {\n          var sucMessage = React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30\n            },\n            __self: this\n          }, \"Data Deleted! \"), \"Data menu with code \", React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30\n            },\n            __self: this\n          }, _this.props.menu.code), \" has been deleted!\");\n          var errMessage = React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          }, \"Deleting data \", React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          }, _this.props.menu.code), \" unsuccessfull, data has a foreign key on Menu Access\");\n\n          if (response.data.code == 200) {\n            _this.props.closeModalHandler();\n\n            _this.props.modalStatus(1, sucMessage);\n          } else {\n            _this.props.closeModalHandler();\n\n            _this.props.modalStatus(2, errMessage);\n          }\n\n          _this.setState({\n            disableStatus: false\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    _this.state = {\n      disableStatus: false\n    };\n    return _this;\n  }\n\n  _createClass(DeleteAgama, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        isOpen: this.props.delete,\n        className: this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        className: \"bg-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \" Delete Menu \"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \" Are you sure to delete \\\"\", this.props.menu.name, \"\\\" ? \")), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        disabled: this.state.disableStatus,\n        onClick: this.deleteHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Yes\"), React.createElement(Button, {\n        color: \"warning\",\n        disabled: this.state.disableStatus,\n        onClick: this.props.closeModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"No\")));\n    }\n  }]);\n\n  return DeleteAgama;\n}(React.Component);\n\nexport default DeleteAgama;","map":{"version":3,"sources":["/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/src/components/content/menu/DeleteMenu.js"],"names":["React","Modal","ModalBody","ModalFooter","ModalHeader","Button","axios","apiconfig","DeleteAgama","props","deleteHandler","setState","disableStatus","token","localStorage","getItem","LS","TOKEN","option","url","BASE_URL","ENDPOINTS","M_MENU","method","headers","data","code","menu","i","then","response","sucMessage","errMessage","closeModalHandler","modalStatus","catch","error","console","log","state","delete","className","name","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button } from 'reactstrap'\nimport axios from 'axios'\nimport apiconfig from '../../../configs/api.config.json'\n\nclass DeleteAgama extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            disableStatus: false\n        }\n    }\n    \n    deleteHandler = () => {\n        this.setState({ disableStatus: true })\n        let token = localStorage.getItem(apiconfig.LS.TOKEN)\n        let option = {\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.M_MENU,\n            method: \"delete\",\n            headers: {\n                \"authorization\": token\n            },\n            data: {\n                code: this.props.menu.code\n            }\n        }\n        for (let i = 0; i < 100; i++) {\n            axios(option)\n            .then((response) => {\n                let sucMessage = <span><b>Data Deleted! </b>Data menu with code <b>{this.props.menu.code}</b> has been deleted!</span>\n                let errMessage = <span>Deleting data <b>{this.props.menu.code}</b> unsuccessfull, data has a foreign key on Menu Access</span>\n                if (response.data.code == 200) {\n                    this.props.closeModalHandler()\n                    this.props.modalStatus(1, sucMessage)\n                } else {\n                    this.props.closeModalHandler()\n                    this.props.modalStatus(2, errMessage)\n                }\n                this.setState({ disableStatus: false })\n            })\n            .catch((error) => { \n                console.log(error)\n            })\n        }\n    }\n\n    render(){\n        return(\n            <Modal isOpen={this.props.delete} className={this.props.className}>\n                <ModalHeader className=\"bg-primary\"> Delete Menu </ModalHeader>\n                <ModalBody >\n                    <p> Are you sure to delete \"{this.props.menu.name}\" ? </p>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"primary\" disabled={this.state.disableStatus} onClick={this.deleteHandler}>Yes</Button>\n                    <Button color=\"warning\" disabled={this.state.disableStatus} onClick={this.props.closeModalHandler}>No</Button>\n                </ModalFooter>\n            </Modal>\n        )\n    }\n}\nexport default DeleteAgama"]},"metadata":{},"sourceType":"module"}