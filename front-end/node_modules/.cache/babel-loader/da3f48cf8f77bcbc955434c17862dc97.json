{"ast":null,"code":"import _regeneratorRuntime from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/src/components/content/master/menu/ListMenu.js\";\nimport React from 'react';\nimport API from '../../../helpers/API';\nimport apiconfig from '../../../configs/api.config.json';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport EditMenu from './EditMenu';\nimport CreateMenu from './CreateMenu';\nimport { Alert } from 'reactstrap';\nimport DeleteMenu from './DeleteMenu';\nimport ViewMenu from './ViewMenu';\n\nvar ListMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ListMenu, _React$Component);\n\n  function ListMenu(props) {\n    var _this;\n\n    _classCallCheck(this, ListMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListMenu).call(this, props));\n\n    _this.autoGenerateRois = function () {\n      // YY.MM.DD.NN\n      var employee = _this.state.employee;\n      var date = new Date();\n      var YY = date.getFullYear().slice(2);\n      var MM = date.getMonth() + 1;\n\n      if (MM < 10) {\n        MM = '0' + MM;\n      }\n\n      var DD = date.getDate();\n      var prior = \"\".concat(YY, \".\").concat(MM, \".\").concat(DD, \".\");\n      var emp_id = employee.employee_number;\n      var count = emp_id.map(function (ele) {\n        if (employee.employee_number.indexOf(prior) > -1) {\n          return 1;\n        }\n      });\n\n      if (count.length > 0) {\n        if (count.length < 10) {\n          return prior + '0' + count.length;\n        } else {\n          return prior + count.length;\n        }\n      } else {\n        return prior + '01';\n      }\n    };\n\n    _this.searchHandler = function (e) {\n      var menu = _this.state.menu;\n      var searchStr = e.target.value.toLowerCase().trim();\n      var key = 0;\n      menu.map(function (el, keys) {\n        key = String(keys + 1);\n        var code = el.code,\n            name = el.name,\n            created_by = el.created_by,\n            created_date = el.created_date;\n\n        if (key.indexOf(searchStr) === -1 && code.toLowerCase().indexOf(searchStr) === -1 && name.toLowerCase().indexOf(searchStr) === -1 && created_date.indexOf(searchStr) === -1 && created_by.toLowerCase().indexOf(searchStr) === -1) {\n          el.isHide = true;\n        } else {\n          el.isHide = false;\n        }\n      });\n\n      _this.setState({\n        menu: menu\n      });\n    };\n\n    _this.incColLength = function () {\n      var num = _this.state.colLength;\n\n      _this.setState({\n        colLength: num + 1\n      });\n    };\n\n    _this.getColLength = function () {\n      var token = localStorage.getItem(apiconfig.LS.TOKEN);\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.COL_LENGTH + '/m_menu',\n        method: 'get',\n        headers: {\n          \"authorization\": token,\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      axios(option).then(function (response) {\n        if (response.data.code === 200) {\n          _this.setState({\n            colLength: response.data.message\n          });\n        } else {\n          alert(response.data.message);\n        }\n      });\n    };\n\n    _this.SPA = function () {\n      _this.getListMenu(apiconfig.ENDPOINTS.M_MENU);\n    };\n\n    _this.closeModalHandler = function () {\n      _this.setState({\n        viewMenu: false,\n        editMenu: false,\n        deleteMenu: false,\n        createMenu: false\n      });\n    };\n\n    _this.showHandler = function () {\n      _this.setState({\n        createMenu: true\n      });\n    };\n\n    _this.state = {\n      menu: [],\n      editData: {},\n      editMenu: false,\n      currentMenu: {},\n      alertData: {\n        status: 0,\n        message: ''\n      },\n      colLength: 0,\n      visible: false\n    };\n    _this.deleteHandler = _this.deleteHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteModalHandler = _this.deleteModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.viewModalHandler = _this.viewModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editModalHandler = _this.editModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.modalStatus = _this.modalStatus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ListMenu, [{\n    key: \"getListMenu\",\n    value: function () {\n      var _getListMenu = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(path) {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return API.getListItem(path);\n\n              case 2:\n                result = _context.sent;\n                result.map(function (el) {\n                  el.isHide = false;\n                });\n                this.setState({\n                  menu: result\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getListMenu(_x) {\n        return _getListMenu.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.SPA();\n      this.getColLength();\n    }\n  }, {\n    key: \"deleteModalHandler\",\n    value: function deleteModalHandler(menuid) {\n      var tmp = {};\n      this.state.menu.map(function (ele) {\n        if (menuid === ele._id) {\n          tmp = ele;\n        }\n      });\n      this.setState({\n        currentMenu: tmp,\n        deleteMenu: true\n      });\n    }\n  }, {\n    key: \"viewModalHandler\",\n    value: function viewModalHandler(menuid) {\n      var tmp = {};\n      this.state.menu.map(function (ele) {\n        if (menuid == ele._id) {\n          tmp = ele;\n        }\n      });\n      this.setState({\n        currentMenu: tmp,\n        viewMenu: true\n      });\n    }\n  }, {\n    key: \"editModalHandler\",\n    value: function editModalHandler(menuid) {\n      var tmp = {},\n          tmp2 = {};\n      this.state.menu.map(function (ele) {\n        if (menuid == ele._id) {\n          tmp2 = ele;\n          tmp = {\n            _id: ele._id,\n            code_edit: ele.code,\n            name_edit: ele.name,\n            controller_edit: ele.controller,\n            parent_id_edit: ele.parent_id\n          };\n        }\n      });\n      this.setState({\n        editData: tmp2,\n        currentMenu: tmp,\n        editMenu: true\n      });\n    }\n  }, {\n    key: \"deleteHandler\",\n    value: function deleteHandler(param) {\n      var _this2 = this;\n\n      var token = localStorage.getItem(apiconfig.LS.TOKEN);\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.AGAMA + '/' + param,\n        method: \"delete\",\n        headers: {\n          \"Authorization\": token\n        }\n      };\n      axios(option).then(function (response) {\n        var currentindex = -1;\n\n        _this2.state.agama.map(function (ele, idx) {\n          if (ele._id == param) {\n            currentindex = idx;\n\n            _this2.props.history.goBack();\n          }\n        });\n\n        var tmp = _this2.state.agama;\n        tmp.splice(currentindex, 1);\n\n        _this2.setState({\n          agama: tmp\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"modalStatus\",\n    value: function modalStatus(status, message) {\n      var _this3 = this;\n\n      this.setState({\n        alertData: {\n          status: status,\n          message: message\n        },\n        visible: true\n      });\n      setTimeout(function () {\n        _this3.setState({\n          visible: false\n        });\n      }, 5000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        class: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"Home\"), \" \", React.createElement(\"span\", {\n        class: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"/\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Master\"), \" \", React.createElement(\"span\", {\n        class: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"/\")), React.createElement(\"li\", {\n        class: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"List Menu\")), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          marginBottom: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"List Menu\"), this.state.alertData.status === 1 ? React.createElement(Alert, {\n        isOpen: this.state.visible,\n        color: \"success\",\n        className: \"alert-set\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, this.state.alertData.message) : '', this.state.alertData.status === 2 ? React.createElement(Alert, {\n        isOpen: this.state.visible,\n        color: \"danger\",\n        className: \"alert-set\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, this.state.alertData.message) : '', React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-primary float-right\",\n        style: {\n          padding: '6px 40px'\n        },\n        onClick: this.showHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \" Add \"), React.createElement(\"form\", {\n        class: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control col-sm-11\",\n        placeholder: \"Cari data\",\n        id: \"text\",\n        onChange: this.searchHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      })), React.createElement(CreateMenu, {\n        show: this.state.createMenu,\n        closeModalHandler: this.closeModalHandler,\n        colLength: this.state.colLength,\n        incCol: this.incColLength,\n        modalStatus: this.modalStatus,\n        spaFunc: this.SPA,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }), React.createElement(ViewMenu, {\n        view: this.state.viewMenu,\n        closeModalHandler: this.closeModalHandler,\n        menu: this.state.currentMenu,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }), React.createElement(DeleteMenu, {\n        delete: this.state.deleteMenu,\n        menu: this.state.currentMenu,\n        closeModalHandler: this.closeModalHandler,\n        modalStatus: this.modalStatus,\n        spaFunc: this.SPA,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }), React.createElement(EditMenu, {\n        edit: this.state.editMenu,\n        closeModalHandler: this.closeModalHandler,\n        menu: this.state.currentMenu,\n        modalStatus: this.modalStatus,\n        oriMenu: this.state.editData,\n        spaFunc: this.SPA,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          paddingTop: '40px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        class: \"table table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, \"No\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, \"Code\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, \"Menu Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, \"Created Date\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, \"Create By\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, this.state.menu.map(function (ele, x) {\n        if (!ele.isHide) {\n          return React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 321\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 322\n            },\n            __self: this\n          }, x + 1), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 323\n            },\n            __self: this\n          }, ele.code), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 324\n            },\n            __self: this\n          }, ele.name), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 325\n            },\n            __self: this\n          }, ele.created_date), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 326\n            },\n            __self: this\n          }, ele.created_by), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 327\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"#\",\n            className: \"action-button\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 328\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            onClick: function onClick() {\n              _this4.viewModalHandler(ele._id);\n            },\n            className: \"fa fa-search\",\n            style: {\n              fontSize: '18px',\n              paddingRight: '30px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            onClick: function onClick() {\n              _this4.editModalHandler(ele._id);\n            },\n            class: \"fa fa-edit\",\n            style: {\n              fontSize: '18px',\n              paddingRight: '30px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 330\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            onClick: function onClick() {\n              _this4.deleteModalHandler(ele._id);\n            },\n            class: \"fa fa-trash\",\n            style: {\n              fontSize: '18px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 331\n            },\n            __self: this\n          }))));\n        }\n      })))));\n    }\n  }]);\n\n  return ListMenu;\n}(React.Component);\n\nexport default ListMenu;","map":{"version":3,"sources":["/home/mifadhilah/Documents/XSIS/Mini Project/marcom/front-end/src/components/content/master/menu/ListMenu.js"],"names":["React","API","apiconfig","axios","Link","EditMenu","CreateMenu","Alert","DeleteMenu","ViewMenu","ListMenu","props","autoGenerateRois","employee","state","date","Date","YY","getFullYear","slice","MM","getMonth","DD","getDate","prior","emp_id","employee_number","count","map","ele","indexOf","length","searchHandler","e","menu","searchStr","target","value","toLowerCase","trim","key","el","keys","String","code","name","created_by","created_date","isHide","setState","incColLength","num","colLength","getColLength","token","localStorage","getItem","LS","TOKEN","option","url","BASE_URL","ENDPOINTS","COL_LENGTH","method","headers","then","response","data","message","alert","SPA","getListMenu","M_MENU","closeModalHandler","viewMenu","editMenu","deleteMenu","createMenu","showHandler","editData","currentMenu","alertData","status","visible","deleteHandler","bind","deleteModalHandler","viewModalHandler","editModalHandler","modalStatus","path","getListItem","result","menuid","tmp","_id","tmp2","code_edit","name_edit","controller_edit","controller","parent_id_edit","parent_id","param","AGAMA","currentindex","agama","idx","history","goBack","splice","catch","error","console","log","setTimeout","marginBottom","padding","paddingTop","x","fontSize","paddingRight","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport API from '../../../helpers/API';\nimport apiconfig from '../../../configs/api.config.json'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'\nimport EditMenu from './EditMenu';\nimport CreateMenu from './CreateMenu';\nimport { Alert } from 'reactstrap'\nimport DeleteMenu from './DeleteMenu'\nimport ViewMenu from './ViewMenu'\n\nclass ListMenu extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            menu: [],\n            editData: {},\n            editMenu: false,\n            currentMenu: {},\n            alertData: {\n                status: 0,\n                message: ''\n            },\n            colLength: 0,\n            visible: false\n        }\n        this.deleteHandler=this.deleteHandler.bind(this)\n        this.deleteModalHandler = this.deleteModalHandler.bind(this)\n        this.viewModalHandler = this.viewModalHandler.bind(this)\n        this.editModalHandler = this.editModalHandler.bind(this)\n        this.modalStatus = this.modalStatus.bind(this)\n    }\n\n    async getListMenu(path) {\n        let result = await API.getListItem(path);\n        result.map(el => {\n            el.isHide = false\n        })\n        \n        this.setState({\n            menu: result\n        })\n    }\n\n    autoGenerateRois = () => {\n        // YY.MM.DD.NN\n        const { employee } = this.state\n        const date = new Date()\n        let YY = date.getFullYear().slice(2)\n        let MM = date.getMonth() + 1\n        if (MM < 10) {\n            MM = '0' + MM\n        }\n        let DD = date.getDate()\n        let prior = `${YY}.${MM}.${DD}.`\n        let emp_id = employee.employee_number\n\n        let count = emp_id.map(ele => {\n            if (employee.employee_number.indexOf(prior) > -1) {\n                return 1\n            }\n        })\n\n        if (count.length > 0) {\n            if (count.length < 10) {\n                return prior+'0'+count.length\n            } else {\n                return prior + count.length\n            }\n        } else {\n            return prior + '01'\n        }\n\n    }\n\n    searchHandler = (e) => {\n        const { menu } = this.state\n        let searchStr = e.target.value.toLowerCase().trim()\n        let key = 0\n        menu.map((el, keys) => {\n            key = String(keys + 1)\n            const { code, name, created_by, created_date } = el\n           \n            if (\n                key.indexOf(searchStr) === -1 &&\n                code.toLowerCase().indexOf(searchStr) === -1 &&\n                name.toLowerCase().indexOf(searchStr) === -1 &&\n                created_date.indexOf(searchStr) === -1 &&\n                created_by.toLowerCase().indexOf(searchStr) === -1\n            ) {\n                el.isHide = true\n            } else {\n                el.isHide = false\n            }\n        })\n        \n        this.setState({\n            menu: menu\n        })\n    }\n\n    incColLength = () => {\n        let num = this.state.colLength\n        this.setState({\n            colLength: num + 1\n        })\n    }\n\n    getColLength = () => {\n        let token = localStorage.getItem(apiconfig.LS.TOKEN);\n        let option = {\n            url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.COL_LENGTH + '/m_menu',\n            method: 'get',\n            headers: {\n                \"authorization\": token,\n                \"Content-Type\": \"application/json\"\n            }\n        }\n        axios(option)\n        .then((response) => {\n            if (response.data.code === 200) {\n                this.setState({\n                    colLength: response.data.message\n                })\n            } else {\n                alert(response.data.message)\n            }\n        })\n    }\n\n    componentDidMount() {\n        this.SPA();\n        this.getColLength()\n    }\n\n    deleteModalHandler(menuid) {\n        let tmp = {}\n        this.state.menu.map((ele) => {\n            if (menuid === ele._id) {\n                tmp = ele\n            }\n        })\n        this.setState({\n            currentMenu : tmp,\n            deleteMenu : true\n        })\n    }\n\n    viewModalHandler(menuid) {\n        let tmp = {}\n        this.state.menu.map((ele) => {\n            if (menuid == ele._id) {\n                tmp = ele\n            }\n        })\n        this.setState({\n            currentMenu : tmp,\n            viewMenu : true\n        })\n    }\n\n    editModalHandler(menuid) {\n        let tmp = {}, tmp2 = {}\n        this.state.menu.map((ele) => {\n            if (menuid == ele._id) {\n                tmp2 = ele\n                tmp = ({\n                    _id: ele._id, \n                    code_edit: ele.code, \n                    name_edit: ele.name,\n                    controller_edit: ele.controller,\n                    parent_id_edit: ele.parent_id\n                })\n            }\n        })\n        this.setState({\n            editData: tmp2,\n            currentMenu : tmp,\n            editMenu : true\n        })\n    }\n\n    SPA = () => {\n        this.getListMenu(apiconfig.ENDPOINTS.M_MENU)\n    }\n\n    closeModalHandler = () => {\n        this.setState({\n            viewMenu : false,\n            editMenu : false,\n            deleteMenu : false,\n            createMenu : false   \n        })\n    }\n\n    showHandler = () => {\n        this.setState({createMenu :true})\n    }\n\n    deleteHandler(param){\n        let token = localStorage.getItem(apiconfig.LS.TOKEN)\n        let option = {\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.AGAMA+'/'+param,\n            method: \"delete\",\n            headers: {\n                \"Authorization\": token\n            }\n        }\n        axios(option)\n        .then((response)=>{\n            let currentindex = -1\n            this.state.agama.map((ele, idx)=>{\n                if(ele._id==param){\n                    currentindex=idx\n                    this.props.history.goBack()\n                }\n            })\n            let tmp=this.state.agama\n            tmp.splice(currentindex,1)\n            this.setState({\n                agama: tmp\n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n    }\n\n    modalStatus(status, message) {\n        this.setState({\n            alertData: {\n                status: status,\n                message: message,\n            },\n            visible: true\n        })\n        setTimeout(() => {\n            this.setState({\n                visible: false\n            })\n        }, 5000)\n    }\n\n    render(){\n        \n    return (\n        <div>\n        <ul class=\"breadcrumb\">\n            <li><a href=\"/\">Home</a> <span class=\"divider\">/</span></li>\n            <li><a href=\"/menu\">Master</a> <span class=\"divider\">/</span></li>\n            <li class=\"active\">List Menu</li>\n        </ul>\n       \n        <div className=\"container\">\n            <h4 style={{marginBottom: '30px'}} >List Menu</h4>\n\n            {\n                this.state.alertData.status === 1 ?\n                    <Alert isOpen={this.state.visible} color=\"success\" className=\"alert-set\">\n                        {this.state.alertData.message}\n                        </Alert>\n                    : ''\n            }\n            {\n                this.state.alertData.status === 2 ?\n                    <Alert isOpen={this.state.visible} color=\"danger\" className=\"alert-set\">\n                        {this.state.alertData.message}\n                        </Alert>\n                    : ''\n            }\n\n                <button type=\"button\" class=\"btn btn-primary float-right\" style={{padding: '6px 40px'}}\n                onClick ={this.showHandler}> Add </button>\n                \n                <form class=\"form-inline\">\n                    <input type=\"text\" className=\"form-control col-sm-11\" placeholder=\"Cari data\" id=\"text\" onChange={this.searchHandler}/>\n                </form>\n\n                <CreateMenu\n                show = {this.state.createMenu }\n                closeModalHandler={this.closeModalHandler}\n                colLength = {this.state.colLength}\n                incCol = {this.incColLength}\n                modalStatus = {this.modalStatus} \n                spaFunc = {this.SPA} />\n                <ViewMenu\n                view = {this.state.viewMenu}\n                closeModalHandler = {this.closeModalHandler} \n                menu = {this.state.currentMenu} />\n                <DeleteMenu\n                delete = {this.state.deleteMenu}\n                menu = {this.state.currentMenu}\n                closeModalHandler = {this.closeModalHandler}\n                modalStatus = {this.modalStatus}\n                spaFunc = {this.SPA} />\n                <EditMenu\n                edit = {this.state.editMenu}\n                closeModalHandler = {this.closeModalHandler}\n                menu = {this.state.currentMenu}\n                modalStatus = {this.modalStatus}\n                oriMenu = {this.state.editData}\n                spaFunc = {this.SPA} />\n            </div>\n\n                <div className=\"container\" style={{paddingTop: '40px'}}>\n                <table class=\"table table-hover\">\n                    <thead>\n                    <tr>\n                        <th>No</th>\n                        <th>Code</th>\n                        <th>Menu Name</th>\n                        <th>Created Date</th>\n                        <th>Create By</th>  \n                        <th>Action</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                       {\n                            this.state.menu.map((ele,x)=> {\n                                if (!ele.isHide) {\n                                    return <tr>\n                                        <td>{x+1}</td>\n                                        <td>{ele.code}</td>\n                                        <td>{ele.name}</td>\n                                        <td>{ele.created_date}</td>\n                                        <td>{ele.created_by}</td>\n                                        <td>\n                                            <Link to='#' className=\"action-button\">\n                                            <span onClick = {() => {this.viewModalHandler(ele._id)}} className=\"fa fa-search\" style={{fontSize : '18px', paddingRight : '30px'}} />    \n                                            <span onClick = {() => {this.editModalHandler(ele._id)}} class=\"fa fa-edit\" style={{fontSize : '18px', paddingRight : '30px'}} />            \n                                            <span onClick = {() => {this.deleteModalHandler(ele._id)}} class=\"fa fa-trash\" style={{fontSize : '18px'}} />\n                                            </Link>\n                                        </td>\n                                    </tr>\n                                }\n                            })\n                       }\n                    </tbody>\n                </table>\n                </div>\n                </div>\n        )\n    }\n}\n\nexport default ListMenu"]},"metadata":{},"sourceType":"module"}